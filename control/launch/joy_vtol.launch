<?xml version="1.0"?>
<launch>

  <group ns="vtol">
    <!-- c++ remap topic name with prefix ns directly. Yet, python won't??? -->
    <node pkg="joy" type="joy_node" name="joy_node">
      <param name="dev" type="string" value="/dev/input/js0"/>
    </node>
    
    <node name="xbox" pkg="control" type="xbox.py" output="screen">  
      <remap from="/mavros/cmd/arming" to="/vtol/mavros/cmd/arming"/>
      <remap from="/mavros/cmd/vtol_transition" to="/vtol/mavros/cmd/vtol_transition"/>
      <remap from="/mavros/manual_control/send" to="/vtol/mavros/manual_control/send"/>
      <remap from="/mode" to="/vtol/mode"/>
      <remap from="/joy" to="/vtol/joy"/>
    </node>

    <node name="mode_center" pkg="commander" type="mode_center.py" output="screen">  
      <remap from="/mavros/set_mode" to="/vtol/mavros/set_mode"/>
      <remap from="/mode" to="/vtol/mode"/>
      <remap from="/mavros/setpoint_velocity/cmd_vel" to="/vtol/mavros/setpoint_velocity/cmd_vel"/>
    </node>

  </group>
</launch>
